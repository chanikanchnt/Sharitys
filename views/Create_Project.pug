html
    head
        style
             include style.css

meta(charset="UTF-8")
meta(name="viewport", content="width=device-width,initial-scale=1")
title All Project
link(rel="stylesheet", href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css", integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm", crossorigin="anonymous")
link(rel="stylesheet", href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css")
script(src="createpj.js", async)
nav.navbar.navbar-expand-lg.navbarSecond.navbar-light.py-lg-3
  a.navbar-brand.Sharitys(href="#") Sharitys
  button.navbar-toggler(data-toggle="collapse", data-target="#userNavBar")
    span.navbar-toggler-icon
  .collapse.navbar-collapse#userNavBar
    ul.navbar-nav.nav-fill.w-100
      li.nav-item
        a.nav-link.NavFont(href="#") หน้าแรก
      li.nav-item.dropdown
        a.nav-link.dropdown-toggle.NavFont#navbarDropdown(href="#", role="button", data-toggle="dropdown", aria-haspopup="true", aria-expanded="false") ประเภทโครงการ
        .dropdown-menu(aria-labelledby="navbarDropdown")
          a.dropdown-item.NavFont(href="/viewallpj") โครงการทั้งหมด
          a.dropdown-item.NavFont(href="#") โครงการที่เร่งด่วน
          a.dropdown-item.NavFont(href="#") โครงการเพื่อช่วยแก้ไขปัญหา
          a.dropdown-item.NavFont(href="#") โครงการในเชิงประดิษฐ์
      li.nav-item
        a.nav-link.NavFont(href="#") เกี่ยวกับเรา
      li.nav-item
        a.nav-link.NavFont(href="#") คำถามที่พบบ่อย
      li.nav-item
        a.nav-link.NavFont(href="#") ข้อกำหนดและเงื่อนไข
      li.nav-item.dropdown
        a.nav-link.dropdown-toggle.NavFont#navbarDropdown(href="#", role="button", data-toggle="dropdown", aria-haspopup="true", aria-expanded="false") จัดการโครงการ
        .dropdown-menu(aria-labelledby="navbarDropdown")
          a.dropdown-item.NavFont(href="/createpj") สร้างโครงการ
          a.dropdown-item.NavFont(href="#") โปรโมทโครงการ
      li.nav-item
        a.nav-link.NavFont(href="#") ถอนเงิน
      li.nav-item
        span.align-middle
          i.fa.fa-search.fa-lg
      li.nav-item
        form.form-line.SearchBox
          input.form-control.mr-sm-2.NavFont(type="search", placeholder="Search...", aria-label="Search")
      li.nav-item
        a.nav-link(href="#")
          span.align-middle
            i.fa.fa-bell.fa-lg
      li.nav-item
        a.nav-link(href="#")
          span.align-middle
            i.fa.fa-user-circle.fa-lg
      li.nav-item
        a.nav-link.LoginButton(href="/signin") Login
// Form Steps
meta(name="viewport", content="width=device-width,initial-scale=1")
link(href="https://fonts.googleapis.com/css?family=Raleway", rel="stylesheet")
style.
  
  #regForm {
              background-color: #ffffff;
              margin: 100px auto;
              font-family: Raleway;
              padding: 40px;
              width: 70%;
              min-width: 300px;
          }
  
          input {
              padding: 10px;
              width: 100%;
              font-size: 17px;
              font-family: Raleway;
              border: 1px solid #aaaaaa;
          }
  
          /* Mark input boxes that gets an error on validation: */
          input.invalid {
              background-color: #ffdddd;
          }
  
          /* Hide all steps by default: */
          .tab {
              display: none;
          }
  
          button {
              background-color: #4CAF50;
              color: #ffffff;
              border: none;
              padding: 10px 20px;
              font-size: 17px;
              font-family: Raleway;
              cursor: pointer;
          }
  
          button:hover {
              opacity: 0.8;
          }
  
          #prevBtn {
              background-color: #bbbbbb;
          }
  
          /* Make circles that indicate the steps of the form: */
          .step {
              height: 15px;
              width: 15px;
              margin: 0 2px;
              background-color: #bbbbbb;
              border: none;
              border-radius: 50%;
              display: inline-block;
              opacity: 0.5;
          }
  
          .step.active {
              opacity: 1;
          }
  
          /* Mark the steps that are finished and valid: */
          .step.finish {
              background-color: #4CAF50;
          }
  
form#createpjdetail
  br
  br
  h1 สร้างโครงการ
  // Step 1 ข้อกำหนดและเงื่อนไข
  .tab.container
    br
    br
    .row.justify-content-center
      .col-1
      .col-9
        .container.Box
          .row.CreateProjectColor
            .col-1
            .col-11
              br
              br
              h3.CreateProjectFontColor ข้อกำหนดและเงื่อนไข
          .row.CreateProjectColor
            .col-1
            .col-10
              br
              p.CreateProjectFontColor.CreateProjectFont.
                
                ข้อกำหนดและเงื่อนไข แยมโรลสเกตช์รูบิคพลาซ่าวโรกาส สามช่าแอนด์ เอ็กซ์เพรสอัลไซเมอร์ดีมานด์โบว์ลิ่งยังไง มาร์เก็ตติ้งเทคพาร์ตเนอร์พันธกิจวันเวย์ แจ๊กเก็ต ชาร์ป ซาบะเชอร์รี่ รีเสิร์ชสตริงเวิร์คหน่อมแน้มจิ๊กซอว์ ฟรังก์พลาซ่าช็อปปิ้งกับดัก อมาตยาธิปไตยมอคคาบราทริปแจ็กพอต ทำงานหงวน รีไทร์ ไฮเอนด์แรลลี มยุราภิรมย์คาแรคเตอร์วาซาบิ ไวกิ้งอิกัวนาไอซ์บอมบ์ เบิร์นรุมบ้าคาร์มาร์ตแครอท ฟลุค โลโก้สะกอมสจ๊วตอพาร์ตเมนท์ แบต อัลบัมนิวเบอร์รีแรลลี่มอคคา แชมเปี้ยนรีโมต โลโก้ไฮไลต์ กู๋สไลด์แป๋ว อพาร์ตเมนต์เอนทรานซ์ เที่ยงวันโลชั่นซูเปอร์ เทรลเล่อร์แพ็คเก๊ะเพียบแปร้แต๋ว อึมครึมคอนเซ็ปต์พิซซ่า บู๊ บึม แรลลี่มยุราภิรมย์ผลไม้อัลบั้มติ่มซำ โต๋เต๋ โรลออน สเตอริโอซูโม่ รุมบ้าวโรกาสเอ็นทรานซ์ ตอกย้ำ ไตรมาสแทคติค มอนสเตอร์ ดีมานด์แชมเปญเคส มาร์ค คอร์ปว่ะเคสกระดี๊กระด๊าแพลน อุรังคธาตุนางแบบ ชนะเลิศวาฟเฟิลมอนสเตอร์พุดดิ้ง ออดิทอเรียมบอยคอตควิกซาดิสต์ บอมบ์มั้งแคมป์มลภาวะ สติ๊กเกอร์แกสโซฮอล์แล็บ ยากูซ่าปิโตรเคมีเฉิ่มรากหญ้าแอดมิชชั่น เซ็นเซอร์ไพลินวอลนัทดีไซน์คาปูชิโน เอาท์โยเกิร์ตจัมโบ้จูน มอลล์ ไคลแม็กซ์วิทย์วีซ่ามอคคา คัตเอาต์ ทาวน์น็อคหลวงตาธรรมาภิบาลเป็นไง สเปกเคส ยาวีแจ๊กเก็ตคันถธุระคอรัปชันเตี๊ยม แอสเตอร์ฟีเวอร์รีทัช ธัมโมสตรอว์เบอร์รี ฮิบรูอีแต๋นเบิร์ดมาร์ค พรีเมียมอุรังคธาตุ คอมเมนต์ผลไม้ เฟรช อีแต๋นกุมภาพันธ์วิทย์แคป โบว์ลิ่งสุริยยาตร์อัตลักษณ์ติ่มซำ สเก็ตช์ กิฟท์คอนแทคกลาสภูมิทัศน์ อีแต๋นเวณิกาเทวาธิราชไฮกุ โหงวเฮ้ง ชาร์จอีสต์ชินบัญชร คอนเซปต์แอลมอนด์โค้กคอรัปชั่น หยวนเซ่นไหว้ ทอมติ่มซำเซ็นทรัล ไฮกุนิว ฮิตบ๊อกซ์เอฟเฟ็กต์ตุ๊ก เยลลี่ นิว ฟลุคสไลด์มหาอุปราชา เหี่ยวย่น ไลน์เอนทรานซ์ น็อค แชมเปญ
            .col-1
          .row.CreateProjectColor.justify-content-center
            .col-1
              br
              input.CheckBox(type="checkbox", name="agree", value="check")
            .col-auto
              br
              p.CreateProjectFontColor.CreateProjectFont ข้าพเจ้าได้อ่านและยอมรับข้อกำหนดและเงื่อนไขดังกล่าว
      .col-1
    // input type="submit" name="agree_confirm" value="submit" onclick="if(!this.form.agree.checked){alert('You must agree to the terms first.');return false}"  /
  // Step 2 Project Detial 
  .tab.container
    br
    .row
      .col-1
      .col-auto
        h2 รายละเอียดโครงการ
    br
    .row
      .col-1
      .col-2
        h5.CreateProjectQuestion ชื่อโครงการ
      .col-8
        input.form-control#ProjectTitle(placeholder="ชื่อโครงการ...", oninput="this.className = \'\'", name="pjname", type="text")
      .col-1
    br
    .row
      .col-1
      .col-2
        h5.CreateProjectQuestion คำบรรยายรายละเอียด
      .col-8
        input.form-control#ProjectPurpose(placeholder="จุดประสงค์...", oninput="this.className = \'\'", name="pjobj", type="text")
        input.form-control#ProjectPlan(placeholder="แผนโครงการ...", oninput="this.className = \'\'", name="pjplan", type="text")
        input.form-control#ProjectBenefits(placeholder="ประโยชน์ที่จะได้รับ...", oninput="this.className = \'\'", name="pjbenefit", type="text")
      .col-1
    br
    .row
      .col-1
      .col-2
        h5.CreateProjectQuestion ธนาคาร
      .col-8
        select#banktype(oninput="this.className = \'\'", name="pjbanktype")
          option SCB – ธนาคารไทยพาณิชย์
          option KBANK – ธนาคารกสิกรไทย
          option KTB – ธนาคารกรุงไทย
          option TMB – ธนาคารทหารไทย
          option xxx – ธนาคารxxxx
      .col-1
    br
    .row
      .col-1
      .col-2
        h5.CreateProjectQuestion เลขที่บัญชี
      .col-8
        form.form-line
          input.form-control#BankNumber(placeholder="เลขที่บัญชี...", oninput="this.className = \'\'", name="pjbankno", type="text")
      .col-1
    br
    .row
      .col-1
      .col-2
        h5.CreateProjectQuestion วันที่ปิดโครงการ
      .col-8
        form.form-line
          input#start(type="date", value="2018-07-22", min="2018-01-01", max="2018-12-31")
      .col-1
    br
    //  Haven't Set it as Not required 
    .row
      .col-1
      .col-2
        h5.CreateProjectQuestion Facebook ของโครงการ
      .col-8
        form.form-line
          input.form-control#Facebook(placeholder="ชื่อเพจ Facebook...", oninput="this.className = \'\'", name="pjfb", type="text")
      .col-1
    br
    //  Haven't Set it as Not required 
    .row
      .col-1
      .col-2
        h5.CreateProjectQuestion Twitter ของโครงการ
      .col-8
        form.form-line
          input.form-control#Twitter(placeholder="ชื่อบัญชี Twitter...", oninput="this.className = \'\'", name="pjtwt", type="text")
      .col-1
    br
    //  Haven't Set it as Not required 
    .row
      .col-1
      .col-2
        h5.CreateProjectQuestion Instagram ของโครงการ
      .col-8
        form.form-line
          input.form-control#Instagram(placeholder="ชื่อบัญชี Instagram...", oninput="this.className = \'\'", name="pjig", type="text")
      .col-1
    //  Haven't Set it as Not required 
    //  Haven't add 'add more' function 
    .container
      br
      .row
        .col-1
        .col-auto
          h5.CreateProjectQuestionGift ของที่ระลึก
      .row
        .col-1
        .col-7
          form.form-line
            input.form-control(placeholder="ชื่อของที่ระลึก...", oninput="this.className = \'\'", name="pjsvname1", type="text")
        .col-3
          form.form-line
            input.form-control(placeholder="ราคาจำหน่าย (บาท)...", oninput="this.className = \'\'", name="pjsvprice1", type="text")
        .col-1
      .row
        .col-1
        .col-1
          br
          img.d-block.w-50(src="plus.png")
    .container
      br
      .row
        .col-1
        .col-auto
          h5.CreateProjectQuestionGift ของขวัญตอบแทนการบริจาค
      .row
        .col-1
        .col-7
          form.form-line
            input.form-control(placeholder="ชื่อของขวัญ...", oninput="this.className = \'\'", name="pjgiftname1", type="text")
        .col-3
          form.form-line
            input.form-control(placeholder="ขั้นต่ำที่ได้รับบริจาค (บาท)...", oninput="this.className = \'\'", name="pjgiftprice1", type="text")
        .col-1
      .row
        .col-1
        .col-1
          br
          img.d-block.w-50(src="plus.png")
// Step 3 PJOwner Detail
.tab.container
  br
  br
  .row
    .col-1
    .col-auto
      h2 ข้อมูลเข้าของโครงการ
  br
  .row
    .col-1
    .col-2
      h5.CreateProjectQuestion ประเภทเจ้าของโครงการ
    .col-8
      select#pjownertype
        option ในนามบุคคล
        option ในนามกลุ่มบุคคล
        option ในนามองค์กร
    .col-1
  .row
    .col-1
    .col-2
      h5.CreateProjectQuestion นามเจ้าของโครงการ
    .col-8
      input.form-control#OwnerName(placeholder="ชื่อ...", oninput="this.className = \'\'", name="pjownername", type="text")
    .col-1
  .row
    .col-1
    .col-2
      h5.CreateProjectQuestion อีเมลที่ใช้แสดงบนหน้าโครงการ
    .col-8
      input.form-control#OwnerEmail(placeholder="อีเมลติดต่อเกี่ยวกับโครงการ...", oninput="this.className = \'\'", name="pjowneremail", type="text")
    .col-1
// Step 4 Fd Account Detail
.tab.container
  br
  br
  .row
    .col-1
    .col-auto
      h2 บัญชี Sharitys ของผู้รับผิดชอบ
  br
  .row
    .col-1
    .col-2
      h5.CreateProjectQuestion ชื่อ
    .col-8
      input.form-control#AccountName(placeholder="ชื่อ...", oninput="this.className = \'\'", name="fdfname", type="text")
    .col-1
  br
  .row
    .col-1
    .col-2
      h5.CreateProjectQuestion นามสกุล
    .col-8
      input.form-control#AccountLastname(placeholder="นามสกุล...", oninput="this.className = \'\'", name="fdlname", type="text")
    .col-1
  br
  .row
    .col-1
    .col-2
      h5.CreateProjectQuestion เบอร์โทรศัพท์
    .col-8
      input.form-control#AccountPhoneNumber(placeholder="เบอร์โทรศัพท์...", oninput="this.className = \'\'", name="fdphoneno", type="text")
    .col-1
  br
  .row
    .col-1
    .col-2
      h5.CreateProjectQuestion อีเมล
    .col-8
      input.form-control#AccountEmail(placeholder="อีเมลของบัญชี Sharitys...", oninput="this.className = \'\'", name="fdemail", type="text")
    .col-1
  br
  .row
    .col-1
    .col-2
      h5.CreateProjectQuestion ที่อยู่
    .col-8
      form.form-line
        textarea.form-control#AccountAddress(placeholder="ที่อยู่", name="fdaddress", type="text", rows="3")
    .col-1
div(style="overflow:auto;")
  div(style="float:right;")
    // button type="submit" id="agreeBtn" name="agree_confirm" value="submit" onclick="if(!this.form.agree.checked){alert('You must agree to the terms first.');return false}">Agree</button
    button#prevBtn(type="button", onclick="nextPrev(-1)") ย้อนกลับ
    button#nextBtn.CreateProjectButton(type="button", onclick="nextPrev(1)") ต่อไป
    button#agreeBtn(type="button", onclick="nextPrev(2)") ยืนยัน
//  Circles which indicates the steps of the form: 
div(style="text-align:center;margin-top:40px;")
  span.step
  span.step
  span.step
  span.step
  
script.
  
  var currentTab = 0; // Current tab is set to be the first tab (0)
          showTab(currentTab); // Display the current tab
  
          function showTab(n) {
              // This function will display the specified tab of the form...
              var x = document.getElementsByClassName("tab");
              x[n].style.display = "block";
              //... and fix the Previous/Next buttons:
  
              //Show and not show prev button
              if (n == 0) {
                  document.getElementById("prevBtn").style.display = "none"; //Current tab = 0 >> Not show prevBtn
              } else {
                  document.getElementById("prevBtn").style.display = "inline";
              }
  
              //Next button
              if (n == (x.length - 1)) {
                  document.getElementById("nextBtn").style.display = "inline";
                  document.getElementById("nextBtn").innerHTML = "ยืนยัน";
              }
              else if (n == 0) {
                  document.getElementById("nextBtn").style.display = "none"; //Current tab = 0 >>  show nextBtn
              }
              else {
                  document.getElementById("nextBtn").style.display = "inline";
                  document.getElementById("nextBtn").innerHTML = "ต่อไป";
              }
  
              //Agree button
              if (n == 0) {
                  document.getElementById("agreeBtn").style.display = "inline"; //Current tab = 0 >>  show agreeBtn
              } else {
                  document.getElementById("agreeBtn").style.display = "none";
              }
  
              //... and run a function that will display the correct step indicator:
              fixStepIndicator(n)
          }
  
          function nextPrev(n) {
              // This function will figure out which tab to display
              var x = document.getElementsByClassName("tab");
  
              // Exit the function if any field in the current tab is invalid:
              if (n == 1 && !validateForm()) return false;
  
              ///////////////////////////////////////////////////////Agreement checkbox require
              if (n == 2) {
                  console.log("Agreement page function");
                  //if(!this.form.agree.checked){alert('You must agree to the terms first.');return false}
                  if (!document.getElementById("createpjdetail").agree.checked) {
                      console.log("not check")
                      alert('กรุณาอ่านข้อตกลงและเงื่อนไขก่อน');
                      return false;
                  }
                  if (document.getElementById("createpjdetail").agree.checked) {
                      console.log("checked")
                      n = 1;
                  }
                  
              }
  
              // Hide the current tab:
              x[currentTab].style.display = "none";
              // Increase or decrease the current tab by 1:
              currentTab = currentTab + n;
  
              // if you have reached the end of the form...
              if (currentTab >= x.length) {
                  // ... the form gets submitted:
                  document.getElementById("createpjdetail").submit();
                  return false;
              }
  
              // Otherwise, display the correct tab:
              showTab(currentTab);
          }
  
          function validateForm() {
              // This function deals with validation of the form fields
              var x, y, i, valid = true;
              x = document.getElementsByClassName("tab");
              y = x[currentTab].getElementsByTagName("input");
              // A loop that checks every input field in the current tab:
              for (i = 0; i < y.length; i++) {
                  // If a field is empty...
                  if (y[i].value == "") {
                      // add an "invalid" class to the field:
                      y[i].className += " invalid";
                      // and set the current valid status to false
                      valid = false;
                  }
              }
              // If the valid status is true, mark the step as finished and valid:
              if (valid) {
                  document.getElementsByClassName("step")[currentTab].className += " finish";
              }
              return valid; // return the valid status
          }
  
          function fixStepIndicator(n) {
              // This function removes the "active" class of all steps...
              var i, x = document.getElementsByClassName("step");
              for (i = 0; i < x.length; i++) {
                  x[i].className = x[i].className.replace(" active", "");
              }
              //... and adds the "active" class on the current step:
              x[n].className += " active";
          }
  